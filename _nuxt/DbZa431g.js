import{d as N,v as V,x as C,y as e,z as p,F as ne,i as K,G as ae,H as ie,r as W,I as Z,J as b,K as g,L as Q,M,N as ge,D as ee,E as se,O as X,o as Se,P as Te,Q as Y,A as L}from"./D1d7Yf1t.js";import{_ as te}from"./DlAUqK2U.js";const Ve=["for"],Ce={class:"number-input-wrapper"},Ee=["id","min","value"],Ue=N({inheritAttrs:!1,__name:"BaseNumberInput",props:{id:{},label:{},modelValue:{},min:{}},emits:["update:modelValue"],setup(_,{emit:i}){const c=_,f=i;function o(U){const a=U.target,t=parseInt(a.value)||0;f("update:modelValue",Math.max(t,c.min||0))}function r(){f("update:modelValue",c.modelValue+1)}function E(){const U=Math.max((c.modelValue||0)-1,c.min||0);f("update:modelValue",U)}return(U,a)=>(V(),C("div",{class:ne(["form-group",U.$attrs.class])},[e("label",{for:U.id,class:"label"},p(U.label),9,Ve),e("div",Ce,[e("input",{id:U.id,type:"number",min:U.min,value:U.modelValue,class:"input",onInput:o},null,40,Ee),e("div",{class:"number-controls"},[e("button",{type:"button",class:"number-btn increment",onClick:r}),e("button",{type:"button",class:"number-btn decrement",onClick:E})])])],2))}}),ke={class:"label"},we=["value"],Le=["value","selected"],xe=N({__name:"BaseSelect",props:{label:{},options:{},modelValue:{},class:{}},emits:["update:modelValue"],setup(_,{emit:i}){const c=_,f=i,o=K(()=>c.class||"");function r(E){const U=E.target;f("update:modelValue",U.value)}return(E,U)=>(V(),C("div",{class:ne(o.value)},[e("label",ke,p(E.label),1),e("select",{class:"select",value:E.modelValue,onChange:r},[(V(!0),C(ae,null,ie(E.options,a=>(V(),C("option",{key:a.value,value:a.value,selected:a.value===E.modelValue},p(a.text),9,Le))),128))],40,we)],2))}}),Re={class:"checkbox-wrapper"},De=["checked"],Be=N({__name:"BaseToggle",props:{label:{},modelValue:{type:Boolean}},emits:["update:modelValue"],setup(_,{emit:i}){const c=i;function f(o){const r=o.target;c("update:modelValue",r.checked)}return(o,r)=>(V(),C("label",Re,[e("input",{type:"checkbox",class:"checkbox",checked:o.modelValue,onChange:f},null,40,De),e("span",null,p(o.label),1)]))}}),Pe={class:"title"},je={class:"value"},Ie=N({__name:"BaseResultCard",props:{title:{},color:{},value:{}},setup(_){const i=_,c=K(()=>{switch(i.color){case"green":return"green";case"red":return"red";default:return"blue"}});return(f,o)=>(V(),C("div",{class:ne(["result-card",c.value])},[e("p",Pe,p(f.title),1),e("p",je,p(f.value)+" ч",1)],2))}}),u=_=>(ee("data-v-1fa584e1"),_=_(),se(),_),Ae={class:"modal-content"},Fe={class:"modal-header"},Me=u(()=>e("h2",null,"Настройка коэффициентов",-1)),Oe={class:"modal-body"},Je={class:"coeff-section"},Ne=u(()=>e("h3",null,"Базовые факторы",-1)),We={class:"coeff-grid"},Ge={class:"coeff-item"},Ke=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Экономия от готовой базы"),e("span",{class:"coeff-description"},"Во сколько раз меньше времени занимает доработка готового компонента")],-1)),ze={class:"coeff-input-group"},qe=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),He={class:"coeff-item"},Ye=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Интерактивный UI"),e("span",{class:"coeff-description"},"Дополнительное время на события, анимации, сложную логику взаимодействия")],-1)),Ze={class:"coeff-input-group"},Qe=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),Xe={class:"coeff-item"},es=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Глобальное состояние"),e("span",{class:"coeff-description"},"Время на интеграцию с Pinia/Vuex, реактивность, синхронизацию")],-1)),ss={class:"coeff-input-group"},ts=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),os={class:"coeff-item"},ls=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Простой API"),e("span",{class:"coeff-description"},"GET запросы, простая обработка ответов, базовая обработка ошибок")],-1)),ns={class:"coeff-input-group"},as=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),is={class:"coeff-item"},cs=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"CRUD API"),e("span",{class:"coeff-description"},"Полный набор операций, валидация, оптимистичные обновления, конфликты")],-1)),ds={class:"coeff-input-group"},us=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),rs={class:"coeff-item"},ps=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"SSR"),e("span",{class:"coeff-description"},"Server-Side Rendering, изоморфный код, SEO оптимизация, гидратация")],-1)),ms={class:"coeff-input-group"},fs=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),vs={class:"coeff-item"},_s=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Расширенный SEO"),e("span",{class:"coeff-description"},"Мета-теги, структурированные данные, Open Graph, Twitter Cards")],-1)),hs={class:"coeff-input-group"},bs=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),ys={class:"coeff-item"},$s=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Простая i18n"),e("span",{class:"coeff-description"},"Перевод строк, подключение локалей, базовая локализация")],-1)),gs={class:"coeff-input-group"},Ss=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),Ts={class:"coeff-item"},Vs=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Продвинутая i18n"),e("span",{class:"coeff-description"},"Множественные формы, RTL, форматирование дат/чисел, контекстуальные переводы")],-1)),Cs={class:"coeff-input-group"},Es=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),Us={class:"coeff-item"},ks=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Unit-тесты"),e("span",{class:"coeff-description"},"Юнит-тесты компонентов, моки, покрытие основных сценариев")],-1)),ws={class:"coeff-input-group"},Ls=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),xs={class:"coeff-item"},Rs=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"E2E-тесты"),e("span",{class:"coeff-description"},"Интеграционные тесты, автоматизация UI, тестирование пользовательских сценариев")],-1)),Ds={class:"coeff-input-group"},Bs=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),Ps={class:"coeff-item"},js=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Адаптивный дизайн"),e("span",{class:"coeff-description"},"Мобильная версия, медиа-запросы, тестирование на разных экранах")],-1)),Is={class:"coeff-input-group"},As=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),Fs={class:"coeff-item"},Ms=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Доступность (a11y)"),e("span",{class:"coeff-description"},"ARIA атрибуты, семантика, навигация с клавиатуры, поддержка скрин-ридеров")],-1)),Os={class:"coeff-input-group"},Js=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),Ns={class:"coeff-item"},Ws=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Код-ревью"),e("span",{class:"coeff-description"},"Время на ревью, исправления, дополнительные итерации")],-1)),Gs={class:"coeff-input-group"},Ks=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),zs={class:"coeff-item"},qs=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Документация"),e("span",{class:"coeff-description"},"JSDoc, README, Storybook, примеры использования")],-1)),Hs={class:"coeff-input-group"},Ys=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),Zs={class:"coeff-item"},Qs=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Деплой и CI/CD"),e("span",{class:"coeff-description"},"Настройка пайплайнов, Docker, конфигурация окружений")],-1)),Xs={class:"coeff-input-group"},et=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),st={class:"coeff-section"},tt=u(()=>e("h3",null,"Сложность типов компонентов",-1)),ot={class:"coeff-grid"},lt={class:"coeff-item"},nt=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Макет/Контейнер"),e("span",{class:"coeff-description"},"Header, Footer, Sidebar, Layout компоненты с простой структурой")],-1)),at={class:"coeff-input-group"},it=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),ct={class:"coeff-item"},dt=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"UI-элемент"),e("span",{class:"coeff-description"},"Кнопки, инпуты, чекбоксы, базовые интерактивные элементы")],-1)),ut={class:"coeff-input-group"},rt=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),pt={class:"coeff-item"},mt=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Форма"),e("span",{class:"coeff-description"},"Формы с валидацией, обработкой ошибок, отправкой данных")],-1)),ft={class:"coeff-input-group"},vt=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),_t={class:"coeff-item"},ht=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"График"),e("span",{class:"coeff-description"},"Визуализация данных, Chart.js, D3.js, интерактивные графики")],-1)),bt={class:"coeff-input-group"},yt=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),$t={class:"coeff-item"},gt=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Сложный виджет"),e("span",{class:"coeff-description"},"Календари, таблицы с фильтрами, drag&drop, мультиселекты")],-1)),St={class:"coeff-input-group"},Tt=u(()=>e("span",{class:"input-label"},"Коэффициент:",-1)),Vt={class:"coeff-section"},Ct=u(()=>e("h3",null,"Множители по уровню разработчика",-1)),Et={class:"coeff-grid"},Ut={class:"coeff-item"},kt=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Junior"),e("span",{class:"coeff-description"},"Меньше опыта, больше времени на изучение и отладку")],-1)),wt={class:"coeff-input-group"},Lt=u(()=>e("span",{class:"input-label"},"Множитель:",-1)),xt={class:"coeff-item"},Rt=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Middle"),e("span",{class:"coeff-description"},"Средний уровень, базовая оценка времени")],-1)),Dt={class:"coeff-input-group"},Bt=u(()=>e("span",{class:"input-label"},"Множитель:",-1)),Pt={class:"coeff-item"},jt=u(()=>e("div",{class:"coeff-header"},[e("label",{class:"coeff-label"},"Senior"),e("span",{class:"coeff-description"},"Высокий уровень, меньше времени благодаря опыту")],-1)),It={class:"coeff-input-group"},At=u(()=>e("span",{class:"input-label"},"Множитель:",-1)),Ft=ge('<div class="info-section" data-v-1fa584e1><h4 data-v-1fa584e1>Как работают коэффициенты:</h4><ul class="info-list" data-v-1fa584e1><li data-v-1fa584e1><strong data-v-1fa584e1>Базовые факторы</strong> — добавляются к базовому времени разработки каждого компонента</li><li data-v-1fa584e1><strong data-v-1fa584e1>Типы компонентов</strong> — умножают общее количество компонентов каждого типа</li><li data-v-1fa584e1><strong data-v-1fa584e1>Множители уровня</strong> — применяются к итоговому времени для корректировки под команду</li><li data-v-1fa584e1><strong data-v-1fa584e1>Готовая база</strong> — коэффициент 0.5 означает экономию 50% времени</li></ul></div>',1),Mt={class:"modal-footer"},Ot={class:"footer-buttons"},Jt={class:"main-buttons"},Nt=N({__name:"CoefficientEditModal",props:{isVisible:{type:Boolean},coefficients:{},defaultCoefficients:{}},emits:["close","save"],setup(_,{emit:i}){const c=_,f=i,o=W({...c.coefficients});Z(()=>c.coefficients,U=>{o.value={...U}},{deep:!0});function r(){confirm("Сбросить все коэффициенты к значениям по умолчанию?")&&(o.value=JSON.parse(JSON.stringify(c.defaultCoefficients)))}function E(){f("save",{...o.value}),f("close")}return(U,a)=>U.isVisible?(V(),C("div",{key:0,class:"modal-overlay",onClick:a[26]||(a[26]=Q(t=>U.$emit("close"),["self"]))},[e("div",Ae,[e("div",Fe,[Me,e("button",{class:"modal-close",onClick:a[0]||(a[0]=t=>U.$emit("close"))},"×")]),e("div",Oe,[e("div",Je,[Ne,e("div",We,[e("div",Ge,[Ke,e("div",ze,[qe,b(e("input",{"onUpdate:modelValue":a[1]||(a[1]=t=>o.value.baseExists.true=t),type:"number",step:"0.1",min:"0.1",max:"1",class:"coeff-input"},null,512),[[g,o.value.baseExists.true,void 0,{number:!0}]])])]),e("div",He,[Ye,e("div",Ze,[Qe,b(e("input",{"onUpdate:modelValue":a[2]||(a[2]=t=>o.value.uiComplex.interactive=t),type:"number",step:"0.1",min:"0.1",max:"2",class:"coeff-input"},null,512),[[g,o.value.uiComplex.interactive,void 0,{number:!0}]])])]),e("div",Xe,[es,e("div",ss,[ts,b(e("input",{"onUpdate:modelValue":a[3]||(a[3]=t=>o.value.stateLayer.global=t),type:"number",step:"0.1",min:"0.1",max:"2",class:"coeff-input"},null,512),[[g,o.value.stateLayer.global,void 0,{number:!0}]])])]),e("div",os,[ls,e("div",ns,[as,b(e("input",{"onUpdate:modelValue":a[4]||(a[4]=t=>o.value.apiType.simple=t),type:"number",step:"0.1",min:"0",max:"2",class:"coeff-input"},null,512),[[g,o.value.apiType.simple,void 0,{number:!0}]])])]),e("div",is,[cs,e("div",ds,[us,b(e("input",{"onUpdate:modelValue":a[5]||(a[5]=t=>o.value.apiType.crud=t),type:"number",step:"0.1",min:"0",max:"3",class:"coeff-input"},null,512),[[g,o.value.apiType.crud,void 0,{number:!0}]])])]),e("div",rs,[ps,e("div",ms,[fs,b(e("input",{"onUpdate:modelValue":a[6]||(a[6]=t=>o.value.ssr=t),type:"number",step:"0.1",min:"0",max:"2",class:"coeff-input"},null,512),[[g,o.value.ssr,void 0,{number:!0}]])])]),e("div",vs,[_s,e("div",hs,[bs,b(e("input",{"onUpdate:modelValue":a[7]||(a[7]=t=>o.value.seoAdvanced=t),type:"number",step:"0.1",min:"0",max:"1",class:"coeff-input"},null,512),[[g,o.value.seoAdvanced,void 0,{number:!0}]])])]),e("div",ys,[$s,e("div",gs,[Ss,b(e("input",{"onUpdate:modelValue":a[8]||(a[8]=t=>o.value.i18n.simple=t),type:"number",step:"0.1",min:"0",max:"1",class:"coeff-input"},null,512),[[g,o.value.i18n.simple,void 0,{number:!0}]])])]),e("div",Ts,[Vs,e("div",Cs,[Es,b(e("input",{"onUpdate:modelValue":a[9]||(a[9]=t=>o.value.i18n.advanced=t),type:"number",step:"0.1",min:"0",max:"1.5",class:"coeff-input"},null,512),[[g,o.value.i18n.advanced,void 0,{number:!0}]])])]),e("div",Us,[ks,e("div",ws,[Ls,b(e("input",{"onUpdate:modelValue":a[10]||(a[10]=t=>o.value.tests.unit=t),type:"number",step:"0.1",min:"0",max:"1",class:"coeff-input"},null,512),[[g,o.value.tests.unit,void 0,{number:!0}]])])]),e("div",xs,[Rs,e("div",Ds,[Bs,b(e("input",{"onUpdate:modelValue":a[11]||(a[11]=t=>o.value.tests.e2e=t),type:"number",step:"0.1",min:"0",max:"2",class:"coeff-input"},null,512),[[g,o.value.tests.e2e,void 0,{number:!0}]])])]),e("div",Ps,[js,e("div",Is,[As,b(e("input",{"onUpdate:modelValue":a[12]||(a[12]=t=>o.value.responsive=t),type:"number",step:"0.1",min:"0",max:"1",class:"coeff-input"},null,512),[[g,o.value.responsive,void 0,{number:!0}]])])]),e("div",Fs,[Ms,e("div",Os,[Js,b(e("input",{"onUpdate:modelValue":a[13]||(a[13]=t=>o.value.accessibility=t),type:"number",step:"0.1",min:"0",max:"1",class:"coeff-input"},null,512),[[g,o.value.accessibility,void 0,{number:!0}]])])]),e("div",Ns,[Ws,e("div",Gs,[Ks,b(e("input",{"onUpdate:modelValue":a[14]||(a[14]=t=>o.value.codeReview=t),type:"number",step:"0.1",min:"0",max:"0.5",class:"coeff-input"},null,512),[[g,o.value.codeReview,void 0,{number:!0}]])])]),e("div",zs,[qs,e("div",Hs,[Ys,b(e("input",{"onUpdate:modelValue":a[15]||(a[15]=t=>o.value.documentation=t),type:"number",step:"0.05",min:"0",max:"0.5",class:"coeff-input"},null,512),[[g,o.value.documentation,void 0,{number:!0}]])])]),e("div",Zs,[Qs,e("div",Xs,[et,b(e("input",{"onUpdate:modelValue":a[16]||(a[16]=t=>o.value.deployment=t),type:"number",step:"0.1",min:"0",max:"1",class:"coeff-input"},null,512),[[g,o.value.deployment,void 0,{number:!0}]])])])])]),e("div",st,[tt,e("div",ot,[e("div",lt,[nt,e("div",at,[it,b(e("input",{"onUpdate:modelValue":a[17]||(a[17]=t=>o.value.componentTypes.layout=t),type:"number",step:"0.1",min:"0.1",max:"1",class:"coeff-input"},null,512),[[g,o.value.componentTypes.layout,void 0,{number:!0}]])])]),e("div",ct,[dt,e("div",ut,[rt,b(e("input",{"onUpdate:modelValue":a[18]||(a[18]=t=>o.value.componentTypes.ui=t),type:"number",step:"0.1",min:"0.1",max:"1",class:"coeff-input"},null,512),[[g,o.value.componentTypes.ui,void 0,{number:!0}]])])]),e("div",pt,[mt,e("div",ft,[vt,b(e("input",{"onUpdate:modelValue":a[19]||(a[19]=t=>o.value.componentTypes.form=t),type:"number",step:"0.1",min:"0.1",max:"2",class:"coeff-input"},null,512),[[g,o.value.componentTypes.form,void 0,{number:!0}]])])]),e("div",_t,[ht,e("div",bt,[yt,b(e("input",{"onUpdate:modelValue":a[20]||(a[20]=t=>o.value.componentTypes.chart=t),type:"number",step:"0.1",min:"0.1",max:"2",class:"coeff-input"},null,512),[[g,o.value.componentTypes.chart,void 0,{number:!0}]])])]),e("div",$t,[gt,e("div",St,[Tt,b(e("input",{"onUpdate:modelValue":a[21]||(a[21]=t=>o.value.componentTypes.complex=t),type:"number",step:"0.1",min:"0.5",max:"3",class:"coeff-input"},null,512),[[g,o.value.componentTypes.complex,void 0,{number:!0}]])])])])]),e("div",Vt,[Ct,e("div",Et,[e("div",Ut,[kt,e("div",wt,[Lt,b(e("input",{"onUpdate:modelValue":a[22]||(a[22]=t=>o.value.levelFactor.junior=t),type:"number",step:"0.05",min:"1",max:"2",class:"coeff-input"},null,512),[[g,o.value.levelFactor.junior,void 0,{number:!0}]])])]),e("div",xt,[Rt,e("div",Dt,[Bt,b(e("input",{"onUpdate:modelValue":a[23]||(a[23]=t=>o.value.levelFactor.middle=t),type:"number",step:"0.05",min:"0.8",max:"1.5",class:"coeff-input"},null,512),[[g,o.value.levelFactor.middle,void 0,{number:!0}]])])]),e("div",Pt,[jt,e("div",It,[At,b(e("input",{"onUpdate:modelValue":a[24]||(a[24]=t=>o.value.levelFactor.senior=t),type:"number",step:"0.05",min:"0.5",max:"1.2",class:"coeff-input"},null,512),[[g,o.value.levelFactor.senior,void 0,{number:!0}]])])])])]),Ft]),e("div",Mt,[e("div",Ot,[e("button",{class:"btn btn-secondary",onClick:r},"Сбросить к умолчанию"),e("div",Jt,[e("button",{class:"btn btn-secondary",onClick:a[25]||(a[25]=t=>U.$emit("close"))},"Отмена"),e("button",{class:"btn btn-primary",onClick:E},"Сохранить")])])])])])):M("",!0)}}),Wt=te(Nt,[["__scopeId","data-v-1fa584e1"]]),S=_=>(ee("data-v-84438fb5"),_=_(),se(),_),Gt={class:"modal-content"},Kt={class:"modal-header"},zt=S(()=>e("h2",null,"Детали расчета трудозатрат",-1)),qt={class:"modal-body"},Ht={class:"detail-section"},Yt=S(()=>e("h3",null,"Общая информация",-1)),Zt={class:"detail-grid"},Qt={class:"detail-item"},Xt=S(()=>e("span",{class:"detail-label"},"Всего компонентов:",-1)),eo={class:"detail-value"},so={class:"detail-item"},to=S(()=>e("span",{class:"detail-label"},"С готовой базой:",-1)),oo={class:"detail-value"},lo={class:"detail-item"},no=S(()=>e("span",{class:"detail-label"},"Грейд разработчика:",-1)),ao={class:"detail-value"},io={class:"detail-item"},co=S(()=>e("span",{class:"detail-label"},"Множитель грейда:",-1)),uo={class:"detail-value"},ro={class:"detail-section"},po=S(()=>e("h3",null,"Базовые коэффициенты (часы на компонент)",-1)),mo={class:"detail-grid"},fo={class:"detail-item"},vo=S(()=>e("span",{class:"detail-label"},"Сложность UI:",-1)),_o={class:"detail-value"},ho={class:"detail-item"},bo=S(()=>e("span",{class:"detail-label"},"Управление состоянием:",-1)),yo={class:"detail-value"},$o={class:"detail-item"},go=S(()=>e("span",{class:"detail-label"},"API интеграция:",-1)),So={class:"detail-value"},To={class:"detail-item"},Vo=S(()=>e("span",{class:"detail-label"},"Интернационализация:",-1)),Co={class:"detail-value"},Eo={class:"detail-section"},Uo=S(()=>e("h3",null,"Дополнительные факторы",-1)),ko={class:"detail-grid"},wo={key:0,class:"detail-item"},Lo=S(()=>e("span",{class:"detail-label"},"SSR:",-1)),xo={class:"detail-value"},Ro={key:1,class:"detail-item"},Do=S(()=>e("span",{class:"detail-label"},"Расширенный SEO:",-1)),Bo={class:"detail-value"},Po={key:2,class:"detail-item"},jo=S(()=>e("span",{class:"detail-label"},"Unit-тесты:",-1)),Io={class:"detail-value"},Ao={key:3,class:"detail-item"},Fo=S(()=>e("span",{class:"detail-label"},"E2E-тесты:",-1)),Mo={class:"detail-value"},Oo={key:4,class:"detail-item"},Jo=S(()=>e("span",{class:"detail-label"},"Адаптивный дизайн:",-1)),No={class:"detail-value"},Wo={key:5,class:"detail-item"},Go=S(()=>e("span",{class:"detail-label"},"Доступность (a11y):",-1)),Ko={class:"detail-value"},zo={key:6,class:"detail-item"},qo=S(()=>e("span",{class:"detail-label"},"Код-ревью:",-1)),Ho={class:"detail-value"},Yo={key:7,class:"detail-item"},Zo=S(()=>e("span",{class:"detail-label"},"Документация:",-1)),Qo={class:"detail-value"},Xo={key:8,class:"detail-item"},el=S(()=>e("span",{class:"detail-label"},"Настройка деплоя:",-1)),sl={class:"detail-value"},tl={key:0,class:"detail-section"},ol=S(()=>e("h3",null,"Разбивка по типам компонентов",-1)),ll={class:"component-breakdown"},nl={class:"breakdown-header"},al={class:"breakdown-type"},il={class:"breakdown-count"},cl={class:"breakdown-details"},dl={class:"breakdown-line"},ul=S(()=>e("span",null,"Базовое время на компонент:",-1)),rl={class:"breakdown-line"},pl=S(()=>e("span",null,"Коэффициент типа:",-1)),ml={class:"breakdown-line"},fl=S(()=>e("span",null,"Время на тип компонента:",-1)),vl={key:0,class:"breakdown-line"},_l={key:1,class:"breakdown-line"},hl={class:"breakdown-line total"},bl=S(()=>e("span",null,"Итого для этого типа:",-1)),yl={class:"detail-section"},$l=S(()=>e("h3",null,"Итоговые расчеты",-1)),gl={class:"calculation-summary"},Sl={class:"calc-line"},Tl=S(()=>e("span",null,"Базовое время:",-1)),Vl={class:"calc-line"},Cl={class:"calc-line separator"},El=S(()=>e("span",null,"Оптимистичная (-20%):",-1)),Ul={class:"calc-line"},kl=S(()=>e("span",null,"Реалистичная (базовая):",-1)),wl={class:"calc-line"},Ll=S(()=>e("span",null,"Пессимистичная (+30%):",-1)),xl={class:"modal-footer"},Rl=N({__name:"CalculationDetailsModal",props:{isVisible:{type:Boolean},calculationDetails:{},hours:{},formState:{},baseCoeffs:{},levelFactor:{}},emits:["close"],setup(_){return(i,c)=>i.isVisible?(V(),C("div",{key:0,class:"modal-overlay",onClick:c[2]||(c[2]=Q(f=>i.$emit("close"),["self"]))},[e("div",Gt,[e("div",Kt,[zt,e("button",{class:"modal-close",onClick:c[0]||(c[0]=f=>i.$emit("close"))},"×")]),e("div",qt,[e("div",Ht,[Yt,e("div",Zt,[e("div",Qt,[Xt,e("span",eo,p(i.calculationDetails.totalComponents),1)]),e("div",so,[to,e("span",oo,p(i.calculationDetails.totalWithBase),1)]),e("div",lo,[no,e("span",ao,p(i.formState.devLevel==="junior"?"Junior":i.formState.devLevel==="middle"?"Middle":"Senior"),1)]),e("div",io,[co,e("span",uo,p(i.levelFactor[i.formState.devLevel])+"x",1)])])]),e("div",ro,[po,e("div",mo,[e("div",fo,[vo,e("span",_o,p(i.baseCoeffs.uiComplex[i.formState.uiComplex])+"ч",1)]),e("div",ho,[bo,e("span",yo,p(i.baseCoeffs.stateLayer[i.formState.stateLayer])+"ч",1)]),e("div",$o,[go,e("span",So,p(i.baseCoeffs.apiType[i.formState.apiType])+"ч",1)]),e("div",To,[Vo,e("span",Co,p(i.baseCoeffs.i18n[i.formState.i18n])+"ч",1)])])]),e("div",Eo,[Uo,e("div",ko,[i.formState.ssr?(V(),C("div",wo,[Lo,e("span",xo,"+"+p(i.baseCoeffs.ssr)+"ч",1)])):M("",!0),i.formState.seoAdvanced?(V(),C("div",Ro,[Do,e("span",Bo,"+"+p(i.baseCoeffs.seoAdvanced)+"ч",1)])):M("",!0),i.formState.testsUnit?(V(),C("div",Po,[jo,e("span",Io,"+"+p(i.baseCoeffs.tests.unit)+"ч",1)])):M("",!0),i.formState.testsE2E?(V(),C("div",Ao,[Fo,e("span",Mo,"+"+p(i.baseCoeffs.tests.e2e)+"ч",1)])):M("",!0),i.formState.responsive?(V(),C("div",Oo,[Jo,e("span",No,"+"+p(i.baseCoeffs.responsive)+"ч",1)])):M("",!0),i.formState.accessibility?(V(),C("div",Wo,[Go,e("span",Ko,"+"+p(i.baseCoeffs.accessibility)+"ч",1)])):M("",!0),i.formState.codeReview?(V(),C("div",zo,[qo,e("span",Ho,"+"+p(i.baseCoeffs.codeReview)+"ч",1)])):M("",!0),i.formState.documentation?(V(),C("div",Yo,[Zo,e("span",Qo,"+"+p(i.baseCoeffs.documentation)+"ч",1)])):M("",!0),i.formState.deployment?(V(),C("div",Xo,[el,e("span",sl,"+"+p(i.baseCoeffs.deployment)+"ч",1)])):M("",!0)])]),i.calculationDetails.componentBreakdown.length>0?(V(),C("div",tl,[ol,e("div",ll,[(V(!0),C(ae,null,ie(i.calculationDetails.componentBreakdown,f=>(V(),C("div",{key:f.type,class:"breakdown-item"},[e("div",nl,[e("span",al,p(f.label),1),e("span",il,p(f.count)+" шт.",1)]),e("div",cl,[e("div",dl,[ul,e("span",null,p(f.baseTimePerComponent.toFixed(2))+"ч",1)]),e("div",rl,[pl,e("span",null,p(f.typeCoeff)+"x",1)]),e("div",ml,[fl,e("span",null,p(f.typeTime.toFixed(2))+"ч",1)]),f.withBase>0?(V(),C("div",vl,[e("span",null,"С готовой базой ("+p(f.withBase)+" шт.):",1),e("span",null,"-"+p(f.baseSavings.toFixed(2))+"ч",1)])):M("",!0),f.propsTime>0?(V(),C("div",_l,[e("span",null,"Новые props ("+p(f.newProps)+" на компонент):",1),e("span",null,"+"+p(f.propsTime.toFixed(2))+"ч",1)])):M("",!0),e("div",hl,[bl,e("span",null,p(f.totalTime.toFixed(2))+"ч",1)])])]))),128))])])):M("",!0),e("div",yl,[$l,e("div",gl,[e("div",Sl,[Tl,e("span",null,p(i.calculationDetails.baseTime.toFixed(2))+"ч",1)]),e("div",Vl,[e("span",null,"С учетом грейда ("+p(i.levelFactor[i.formState.devLevel])+"x):",1),e("span",null,p(i.calculationDetails.withLevelFactor.toFixed(2))+"ч",1)]),e("div",Cl,[El,e("span",null,p(i.hours.optimistic)+"ч",1)]),e("div",Ul,[kl,e("span",null,p(i.hours.realistic)+"ч",1)]),e("div",wl,[Ll,e("span",null,p(i.hours.pessimistic)+"ч",1)])])])]),e("div",xl,[e("button",{class:"btn btn-secondary",onClick:c[1]||(c[1]=f=>i.$emit("close"))},"Закрыть")])])])):M("",!0)}}),Dl=te(Rl,[["__scopeId","data-v-84438fb5"]]),j=_=>(ee("data-v-86469dc2"),_=_(),se(),_),Bl={class:"modal-content"},Pl={class:"modal-header"},jl=j(()=>e("h2",null,"Интеграция с Jira",-1)),Il={class:"modal-body"},Al={class:"detail-section"},Fl=j(()=>e("h3",null,"Настройки подключения",-1)),Ml={class:"form-grid"},Ol={class:"form-group"},Jl=j(()=>e("label",{class:"label"},"URL Jira (например: https://company.atlassian.net)",-1)),Nl={class:"form-group"},Wl=j(()=>e("label",{class:"label"},"Email пользователя",-1)),Gl={class:"form-group"},Kl=j(()=>e("label",{class:"label"},"API Token",-1)),zl={class:"form-group"},ql=j(()=>e("label",{class:"label"},"Ключ проекта",-1)),Hl={class:"detail-section"},Yl=j(()=>e("h3",null,"Настройки задачи",-1)),Zl={class:"form-grid"},Ql={class:"form-group"},Xl=j(()=>e("label",{class:"label"},"Название задачи",-1)),en={class:"form-group"},sn=j(()=>e("label",{class:"label"},"Тип задачи",-1)),tn=j(()=>e("option",{value:"Task"},"Task",-1)),on=j(()=>e("option",{value:"Story"},"Story",-1)),ln=j(()=>e("option",{value:"Epic"},"Epic",-1)),nn=[tn,on,ln],an={class:"form-group"},cn=j(()=>e("label",{class:"label"},"Исполнитель (email)",-1)),dn={class:"form-group full-width"},un=j(()=>e("label",{class:"label"},"Описание задачи",-1)),rn={class:"detail-section"},pn=j(()=>e("h3",null,"Предпросмотр оценок",-1)),mn={class:"jira-preview"},fn={class:"estimate-item"},vn=j(()=>e("span",null,"Оптимистичная оценка:",-1)),_n={class:"estimate-item"},hn=j(()=>e("span",null,"Реалистичная оценка:",-1)),bn={class:"estimate-item"},yn=j(()=>e("span",null,"Пессимистичная оценка:",-1)),$n={class:"modal-footer"},gn={class:"flex gap-3"},Sn=["disabled"],Tn=N({__name:"JiraIntegrationModal",props:{isVisible:{type:Boolean},hours:{},formState:{},componentTypes:{},labels:{}},emits:["close","success"],setup(_,{emit:i}){const c=_,f=i,o=X({url:"",email:"",apiToken:"",projectKey:""}),r=X({summary:"Разработка компонентов",description:"",issueType:"Task",assignee:""}),E=W(!1);Se(()=>{const w=localStorage.getItem("jiraSettings");if(w)try{const s=JSON.parse(w);Object.assign(o,s)}catch(s){console.warn("Не удалось загрузить настройки Jira:",s)}});const U=K(()=>o.url&&o.email&&o.apiToken&&o.projectKey&&r.summary&&!E.value);function a(){const w=c.componentTypes.filter(A=>(c.formState.counts[A]||0)>0).map(A=>`• ${c.labels[A]}: ${c.formState.counts[A]} шт.`).join(`
`),s=[];c.formState.uiComplex!=="static"&&s.push("• UI: Интерактивная"),c.formState.stateLayer!=="local"&&s.push("• Состояние: Глобальное"),c.formState.apiType!=="none"&&s.push(`• API: ${c.formState.apiType==="simple"?"Простой GET":"Полный CRUD"}`),c.formState.i18n!=="none"&&s.push(`• i18n: ${c.formState.i18n==="simple"?"Строки":"Склонения / RTL"}`),c.formState.devLevel!=="middle"&&s.push(`• Грейд: ${c.formState.devLevel==="junior"?"Junior":"Senior"}`);const v=[];c.formState.ssr&&v.push("• SSR"),c.formState.seoAdvanced&&v.push("• Расширенный SEO"),c.formState.testsUnit&&v.push("• Unit-тесты"),c.formState.testsE2E&&v.push("• E2E-тесты"),c.formState.responsive&&v.push("• Адаптивный дизайн"),c.formState.accessibility&&v.push("• Доступность (a11y)"),c.formState.codeReview&&v.push("• Код-ревью"),c.formState.documentation&&v.push("• Документация"),c.formState.deployment&&v.push("• Настройка деплоя");let O=r.description||"Разработка компонентов с расчетом трудозатрат";return O+=`

*Компоненты:*
`+w,s.length>0&&(O+=`

*Настройки проекта:*
`+s.join(`
`)),v.length>0&&(O+=`

*Дополнительные требования:*
`+v.join(`
`)),O+=`

*Оценки времени:*
• Оптимистичная: ${c.hours.optimistic}ч (${Math.round(c.hours.optimistic/8*10)/10} дней)
• Реалистичная: ${c.hours.realistic}ч (${Math.round(c.hours.realistic/8*10)/10} дней)
• Пессимистичная: ${c.hours.pessimistic}ч (${Math.round(c.hours.pessimistic/8*10)/10} дней)

_Расчет выполнен калькулятором трудозатрат_`,O}async function t(){if(U.value){E.value=!0;try{const w={url:o.url,email:o.email,projectKey:o.projectKey};localStorage.setItem("jiraSettings",JSON.stringify(w));const s=btoa(`${o.email}:${o.apiToken}`),v=`${o.url.replace(/\/$/,"")}/rest/api/3/issue`,O={fields:{project:{key:o.projectKey},summary:r.summary,description:{type:"doc",version:1,content:[{type:"paragraph",content:[{type:"text",text:a()}]}]},issuetype:{name:r.issueType},timetracking:{originalEstimate:`${c.hours.realistic}h`}}};r.assignee&&(O.fields.assignee={emailAddress:r.assignee});const A=await fetch(v,{method:"POST",headers:{Authorization:`Basic ${s}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(O)});if(!A.ok){const q=await A.text();throw new Error(`Ошибка создания задачи: ${A.status} ${A.statusText}
${q}`)}const G=await A.json(),z=`${o.url}/browse/${G.key}`;f("success",{key:G.key,url:z}),f("close")}catch(w){console.error("Ошибка при создании задачи в Jira:",w);const s=w instanceof Error?w.message:"Неизвестная ошибка";alert(`Ошибка при создании задачи в Jira:
${s}`)}finally{E.value=!1}}}return(w,s)=>w.isVisible?(V(),C("div",{key:0,class:"modal-overlay",onClick:s[10]||(s[10]=Q(v=>w.$emit("close"),["self"]))},[e("div",Bl,[e("div",Pl,[jl,e("button",{class:"modal-close",onClick:s[0]||(s[0]=v=>w.$emit("close"))},"×")]),e("div",Il,[e("form",{class:"jira-form",onSubmit:Q(t,["prevent"])},[e("div",Al,[Fl,e("div",Ml,[e("div",Ol,[Jl,b(e("input",{"onUpdate:modelValue":s[1]||(s[1]=v=>o.url=v),class:"input",placeholder:"https://company.atlassian.net",required:""},null,512),[[g,o.url]])]),e("div",Nl,[Wl,b(e("input",{"onUpdate:modelValue":s[2]||(s[2]=v=>o.email=v),class:"input",type:"email",placeholder:"user@company.com",required:""},null,512),[[g,o.email]])]),e("div",Gl,[Kl,b(e("input",{"onUpdate:modelValue":s[3]||(s[3]=v=>o.apiToken=v),class:"input",type:"password",placeholder:"Ваш API токен из Jira",required:""},null,512),[[g,o.apiToken]])]),e("div",zl,[ql,b(e("input",{"onUpdate:modelValue":s[4]||(s[4]=v=>o.projectKey=v),class:"input",placeholder:"PROJ",required:""},null,512),[[g,o.projectKey]])])])]),e("div",Hl,[Yl,e("div",Zl,[e("div",Ql,[Xl,b(e("input",{"onUpdate:modelValue":s[5]||(s[5]=v=>r.summary=v),class:"input",placeholder:"Разработка компонентов",required:""},null,512),[[g,r.summary]])]),e("div",en,[sn,b(e("select",{"onUpdate:modelValue":s[6]||(s[6]=v=>r.issueType=v),class:"select"},nn,512),[[Te,r.issueType]])]),e("div",an,[cn,b(e("input",{"onUpdate:modelValue":s[7]||(s[7]=v=>r.assignee=v),class:"input",type:"email",placeholder:"developer@company.com"},null,512),[[g,r.assignee]])])]),e("div",dn,[un,b(e("textarea",{"onUpdate:modelValue":s[8]||(s[8]=v=>r.description=v),class:"textarea",rows:"4",placeholder:"Описание задачи с деталями расчета"},null,512),[[g,r.description]])])]),e("div",rn,[pn,e("div",mn,[e("div",fn,[vn,e("span",null,p(w.hours.optimistic)+"ч ("+p(Math.round(w.hours.optimistic/8*10)/10)+" дней)",1)]),e("div",_n,[hn,e("span",null,p(w.hours.realistic)+"ч ("+p(Math.round(w.hours.realistic/8*10)/10)+" дней)",1)]),e("div",bn,[yn,e("span",null,p(w.hours.pessimistic)+"ч ("+p(Math.round(w.hours.pessimistic/8*10)/10)+" дней)",1)])])])],32)]),e("div",$n,[e("div",gn,[e("button",{type:"button",class:"btn btn-secondary",onClick:s[9]||(s[9]=v=>w.$emit("close"))}," Отмена "),e("button",{type:"button",class:"btn btn-success",disabled:!U.value,onClick:t},p(E.value?"Создаем задачу...":"Создать задачу"),9,Sn)])])])])):M("",!0)}}),Vn=te(Tn,[["__scopeId","data-v-86469dc2"]]);function Cn(){const _=W(!1),i=W(0);function c(){_.value||(i.value=window.pageYOffset||document.documentElement.scrollTop,document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${i.value}px`,document.body.style.width="100%",_.value=!0)}function f(){_.value&&(document.body.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.width="",window.scrollTo(0,i.value),_.value=!1)}return{isLocked:_,lockScroll:c,unlockScroll:f}}const ce=_=>(ee("data-v-a379840f"),_=_(),se(),_),En={class:"min-h-screen"},Un={class:"container"},kn={class:"card space-y-8"},wn=ce(()=>e("header",{class:"header"},[e("h1",null,"Калькулятор трудозатрат"),e("p",null," Рассчитывает трудозатраты в трёх вариантах — оптимистичном, реалистичном и пессимистичном. ")],-1)),Ln={class:"form",autocomplete:"off"},xn={class:"fieldset full-width"},Rn=ce(()=>e("legend",{class:"legend"},"Количество компонентов",-1)),Dn={class:"grid"},Bn=ce(()=>e("div",{class:"empty-space"},null,-1)),Pn={class:"results"},jn={class:"buttons-container"},In={class:"buttons-group"},An=["disabled"],Fn=["disabled"],Mn={class:"buttons-group"},On=["disabled"],Jn=["disabled"],Nn=.8,Wn=1.3,Gn=N({__name:"effort",setup(_){const i={baseExists:{true:.5,false:1},uiComplex:{static:.3,interactive:.8},stateLayer:{local:.3,global:.8},apiType:{none:0,simple:.5,crud:1.2},ssr:.6,seoAdvanced:.3,i18n:{none:0,simple:.2,advanced:.5},tests:{unit:.3,e2e:.8},responsive:.4,accessibility:.5,codeReview:.2,documentation:.15,deployment:.3},c={layout:.2,ui:.4,form:.7,chart:.9,complex:1.2},f={layout:"Макет/Контейнер",ui:"UI-элемент",form:"Форма",chart:"График",complex:"Сложный виджет"},o={junior:1.35,middle:1.15,senior:.9},r=Object.keys(c),E=f,U={...i,componentTypes:{...c},levelFactor:{...o}},a={...i,componentTypes:{...c},levelFactor:{...o}},t=X({...a}),w={counts:Object.fromEntries(r.map(l=>[l,0])),countsWithBase:Object.fromEntries(r.map(l=>[l,0])),countsNewProps:Object.fromEntries(r.map(l=>[l,0])),uiComplex:"static",stateLayer:"local",apiType:"none",ssr:!1,seoAdvanced:!1,i18n:"none",testsUnit:!1,testsE2E:!1,responsive:!1,accessibility:!1,codeReview:!1,documentation:!1,deployment:!1,devLevel:"middle"},s=X({...w}),v=W(!1),O=W(!1),A=W(!1),{lockScroll:G,unlockScroll:z}=Cn();Z(v,l=>{l?G():z()}),Z(O,l=>{l?G():z()}),Z(A,l=>{l?G():z()});function q(l){return t.uiComplex[l.uiComplex]+t.stateLayer[l.stateLayer]+t.apiType[l.apiType]+(l.ssr?t.ssr:0)+(l.seoAdvanced?t.seoAdvanced:0)+t.i18n[l.i18n]+(l.testsUnit?t.tests.unit:0)+(l.testsE2E?t.tests.e2e:0)+(l.responsive?t.responsive:0)+(l.accessibility?t.accessibility:0)+(l.codeReview?t.codeReview:0)+(l.documentation?t.documentation:0)+(l.deployment?t.deployment:0)}const de=K(()=>{const l=q(s),d=r.reduce((n,$)=>n+(s.counts[$]||0),0),J=r.reduce((n,$)=>n+(s.countsWithBase[$]||0),0),m=r.filter(n=>(s.counts[n]||0)>0).map(n=>{const $=s.counts[n]||0,P=Math.min(s.countsWithBase[n]||0,$),x=s.countsNewProps[n]||0,T=l,k=t.componentTypes[n],R=$*k,oe=$-P,ve=P*(t.baseExists.false-t.baseExists.true);let le=0;if(x>0){const be=Math.min(x,2),ye=Math.max(x-2,0),$e=be*.1+ye*.05;le=$*$e}const _e=P*t.baseExists.true+oe*t.baseExists.false,he=T*_e+R+le;return{type:n,label:E[n],count:$,withBase:P,newProps:x,baseTimePerComponent:T,typeCoeff:k,typeTime:R,baseSavings:ve,propsTime:le,totalTime:he}}),D=r.reduce((n,$)=>n+(s.counts[$]||0)*t.componentTypes[$],0),I=r.reduce((n,$)=>{const P=s.counts[$]||0,x=Math.min(s.countsWithBase[$]||0,P),T=P-x,k=x*t.baseExists.true+T*t.baseExists.false;return n+k},0),B=r.reduce((n,$)=>{const P=s.counts[$]||0,x=s.countsNewProps[$]||0;if(P>0&&x>0){const T=Math.min(x,2),k=Math.max(x-2,0),R=T*.1+k*.05;return n+P*R}return n},0),y=l*d+D+I+B,h=y*t.levelFactor[s.devLevel];return{totalComponents:d,totalWithBase:J,componentBreakdown:m,baseTime:y,withLevelFactor:h}}),F=K(()=>{const l=q(s),d=r.reduce((B,y)=>B+(s.counts[y]||0),0),J=r.reduce((B,y)=>B+(s.counts[y]||0)*t.componentTypes[y],0),m=r.reduce((B,y)=>{const h=s.counts[y]||0,n=Math.min(s.countsWithBase[y]||0,h),$=h-n,P=n*t.baseExists.true+$*t.baseExists.false;return B+P},0),D=r.reduce((B,y)=>{const h=s.counts[y]||0,n=s.countsNewProps[y]||0;if(h>0&&n>0){const $=Math.min(n,2),P=Math.max(n-2,0),x=$*.1+P*.05;return B+h*x}return B},0),I=(l*d+J+m+D)*t.levelFactor[s.devLevel];return{optimistic:Math.round(I*Nn*10)/10,realistic:Math.round(I*10)/10,pessimistic:Math.round(I*Wn*10)/10}});function ue(){r.forEach(l=>{s.counts[l]=0,s.countsWithBase[l]=0,s.countsNewProps[l]=0}),s.uiComplex="static",s.stateLayer="local",s.apiType="none",s.ssr=!1,s.seoAdvanced=!1,s.i18n="none",s.testsUnit=!1,s.testsE2E=!1,s.responsive=!1,s.accessibility=!1,s.codeReview=!1,s.documentation=!1,s.deployment=!1,s.devLevel="middle"}function re(){const l=new Date,d=l.toLocaleDateString("ru-RU").replace(/\./g,"-"),J=l.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}).replace(":","-"),m=[["Параметр","Значение"],["Дата расчета",`${d} ${J}`]],D=r.filter(R=>(s.counts[R]||0)>0);D.length>0&&(m.push([""]),m.push(["=== КОЛИЧЕСТВО КОМПОНЕНТОВ ===",""]),D.forEach(R=>{m.push([`${E[R]}`,String(s.counts[R]||0)])}));const I=r.filter(R=>(s.countsWithBase[R]||0)>0);I.length>0&&(m.push([""]),m.push(["=== КОМПОНЕНТЫ С ГОТОВОЙ БАЗОЙ ===",""]),I.forEach(R=>{m.push([`${E[R]} с базой`,String(s.countsWithBase[R]||0)])}));const B=r.filter(R=>(s.countsNewProps[R]||0)>0);B.length>0&&(m.push([""]),m.push(["=== НОВЫЕ PROPS НА КОМПОНЕНТ ===",""]),B.forEach(R=>{m.push([`${E[R]} - новые props`,String(s.countsNewProps[R]||0)])}));const y=[];s.uiComplex!=="static"&&y.push(["Сложность UI","Интерактивная"]),s.stateLayer!=="local"&&y.push(["Слой состояния","Глобальный"]),s.apiType!=="none"&&y.push(["Тип API",s.apiType==="simple"?"Простой GET":"Полный CRUD"]),s.i18n!=="none"&&y.push(["Интернационализация",s.i18n==="simple"?"Строки":"Склонения / RTL"]),s.devLevel!=="middle"&&y.push(["Грейд разработчика",s.devLevel==="junior"?"Junior":"Senior"]),y.length>0&&(m.push([""]),m.push(["=== ОСНОВНЫЕ ПАРАМЕТРЫ ===",""]),m.push(...y));const h=[];s.ssr&&h.push(["SSR (Async Data, Изоморфный код)","Да"]),s.seoAdvanced&&h.push(["Расширенный SEO","Да"]),s.testsUnit&&h.push(["Unit-тесты","Да"]),s.testsE2E&&h.push(["E2E-тесты","Да"]),s.responsive&&h.push(["Адаптивный дизайн","Да"]),s.accessibility&&h.push(["Доступность (a11y)","Да"]),s.codeReview&&h.push(["Код-ревью и рефакторинг","Да"]),s.documentation&&h.push(["Документация","Да"]),s.deployment&&h.push(["Настройка деплоя и CI/CD","Да"]),h.length>0&&(m.push([""]),m.push(["=== ДОПОЛНИТЕЛЬНЫЕ ОПЦИИ ===",""]),m.push(...h)),m.push([""]),m.push(["=== РЕЗУЛЬТАТЫ (ЧАСЫ) ===",""]),m.push(["Оптимистичная оценка",String(F.value.optimistic)]),m.push(["Реалистичная оценка",String(F.value.realistic)]),m.push(["Пессимистичная оценка",String(F.value.pessimistic)]);const P="\uFEFF"+m.map(R=>R.map(oe=>`"${String(oe).replace(/"/g,'""')}"`).join(",")).join(`
`),x=new Blob([P],{type:"text/csv;charset=utf-8"}),T=window.URL.createObjectURL(x),k=document.createElement("a");k.href=T,k.download=`trudozatraty-${d}-${J}.csv`,document.body.appendChild(k),k.click(),document.body.removeChild(k),window.URL.revokeObjectURL(T)}function pe(){const l=new Date,d=l.toLocaleDateString("ru-RU").replace(/\./g,"-"),J=l.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}).replace(":","-"),m={meta:{exportDate:l.toISOString(),exportDateFormatted:`${d} ${J}`,version:"1.0",description:"Экспорт данных калькулятора трудозатрат"},rawData:{counts:{...s.counts},countsWithBase:{...s.countsWithBase},countsNewProps:{...s.countsNewProps},uiComplex:s.uiComplex,stateLayer:s.stateLayer,apiType:s.apiType,ssr:s.ssr,seoAdvanced:s.seoAdvanced,i18n:s.i18n,testsUnit:s.testsUnit,testsE2E:s.testsE2E,responsive:s.responsive,accessibility:s.accessibility,codeReview:s.codeReview,documentation:s.documentation,deployment:s.deployment,devLevel:s.devLevel},formattedData:{}},D=r.filter(T=>(s.counts[T]||0)>0),I=r.filter(T=>(s.countsWithBase[T]||0)>0),B=r.filter(T=>(s.countsNewProps[T]||0)>0);(D.length>0||I.length>0||B.length>0)&&(m.formattedData.components={},D.length>0&&(m.formattedData.components.counts=D.reduce((T,k)=>(T[E[k]]=s.counts[k]||0,T),{})),I.length>0&&(m.formattedData.components.withBase=I.reduce((T,k)=>(T[E[k]]=s.countsWithBase[k]||0,T),{})),B.length>0&&(m.formattedData.components.newProps=B.reduce((T,k)=>(T[E[k]]=s.countsNewProps[k]||0,T),{})));const y={};s.uiComplex!=="static"&&(y.uiComplexity="Интерактивная"),s.stateLayer!=="local"&&(y.stateManagement="Глобальный"),s.apiType!=="none"&&(y.apiIntegration=s.apiType==="simple"?"Простой GET":"Полный CRUD"),s.i18n!=="none"&&(y.internationalization=s.i18n==="simple"?"Строки":"Склонения / RTL"),s.devLevel!=="middle"&&(y.developerLevel=s.devLevel==="junior"?"Junior":"Senior"),Object.keys(y).length>0&&(m.formattedData.settings=y);const h={};s.ssr&&(h.ssr=!0),s.seoAdvanced&&(h.advancedSeo=!0),s.testsUnit&&(h.unitTests=!0),s.testsE2E&&(h.e2eTests=!0),s.responsive&&(h.responsiveDesign=!0),s.accessibility&&(h.accessibility=!0),s.codeReview&&(h.codeReview=!0),s.documentation&&(h.documentation=!0),s.deployment&&(h.deployment=!0),Object.keys(h).length>0&&(m.formattedData.features=h),m.results={hours:{optimistic:F.value.optimistic,realistic:F.value.realistic,pessimistic:F.value.pessimistic},analysis:{totalComponents:r.reduce((T,k)=>T+(s.counts[k]||0),0),componentsWithBase:r.reduce((T,k)=>T+(s.countsWithBase[k]||0),0),estimateRange:{min:F.value.optimistic,max:F.value.pessimistic,spread:Math.round((F.value.pessimistic-F.value.optimistic)*10)/10}}};const n=JSON.stringify(m,null,2),$=new Blob([n],{type:"application/json;charset=utf-8"}),P=window.URL.createObjectURL($),x=document.createElement("a");x.href=P,x.download=`trudozatraty-${d}-${J}.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(P)}const H=K(()=>Object.values(s.counts).some(l=>l>0));function me(l){O.value=!1,alert(`Задача успешно создана в Jira!
Ключ: ${l.key}
Ссылка: ${l.url}`),confirm("Открыть созданную задачу в Jira?")&&window.open(l.url,"_blank")}function fe(l){t.baseExists.true=l.baseExists.true,t.baseExists.false=l.baseExists.false,t.uiComplex.static=l.uiComplex.static,t.uiComplex.interactive=l.uiComplex.interactive,t.stateLayer.local=l.stateLayer.local,t.stateLayer.global=l.stateLayer.global,t.apiType.none=l.apiType.none,t.apiType.simple=l.apiType.simple,t.apiType.crud=l.apiType.crud,t.ssr=l.ssr,t.seoAdvanced=l.seoAdvanced,t.i18n.none=l.i18n.none,t.i18n.simple=l.i18n.simple,t.i18n.advanced=l.i18n.advanced,t.tests.unit=l.tests.unit,t.tests.e2e=l.tests.e2e,t.responsive=l.responsive,t.accessibility=l.accessibility,t.codeReview=l.codeReview,t.documentation=l.documentation,t.deployment=l.deployment,t.componentTypes.layout=l.componentTypes.layout,t.componentTypes.ui=l.componentTypes.ui,t.componentTypes.form=l.componentTypes.form,t.componentTypes.chart=l.componentTypes.chart,t.componentTypes.complex=l.componentTypes.complex,t.levelFactor.junior=l.levelFactor.junior,t.levelFactor.middle=l.levelFactor.middle,t.levelFactor.senior=l.levelFactor.senior}return(l,d)=>{const J=Ue,m=xe,D=Be,I=Ie,B=Wt,y=Dl,h=Vn;return V(),C("div",En,[e("div",Un,[e("div",kn,[wn,e("form",Ln,[e("fieldset",xn,[Rn,e("div",Dn,[(V(!0),C(ae,null,ie(Y(r),n=>(V(),C("div",{key:n,class:"component-type-group"},[L(J,{id:`cnt-${n}`,label:Y(E)[n],"model-value":s.counts[n],min:0,"onUpdate:modelValue":$=>s.counts[n]=$},null,8,["id","label","model-value","onUpdate:modelValue"]),L(J,{id:`base-${n}`,label:"Из них с готовой базой","model-value":s.countsWithBase[n],min:0,max:s.counts[n],"onUpdate:modelValue":$=>s.countsWithBase[n]=Math.min($,s.counts[n])},null,8,["id","model-value","max","onUpdate:modelValue"]),L(J,{id:`props-${n}`,label:"Новых props на компонент","model-value":s.countsNewProps[n],min:0,max:20,"onUpdate:modelValue":$=>s.countsNewProps[n]=$},null,8,["id","model-value","onUpdate:modelValue"])]))),128))])]),L(m,{modelValue:s.uiComplex,"onUpdate:modelValue":d[0]||(d[0]=n=>s.uiComplex=n),label:"Сложность UI",options:[{value:"static",text:"Статическая"},{value:"interactive",text:"Интерактивная"}]},null,8,["modelValue"]),L(m,{modelValue:s.stateLayer,"onUpdate:modelValue":d[1]||(d[1]=n=>s.stateLayer=n),label:"Слой состояния",options:[{value:"local",text:"Локальный"},{value:"global",text:"Глобальный"}]},null,8,["modelValue"]),L(m,{modelValue:s.apiType,"onUpdate:modelValue":d[2]||(d[2]=n=>s.apiType=n),label:"Тип API",class:"fieldset full-width",options:[{value:"none",text:"Нет"},{value:"simple",text:"Простой GET"},{value:"crud",text:"Полный CRUD"}]},null,8,["modelValue"]),L(D,{modelValue:s.ssr,"onUpdate:modelValue":d[3]||(d[3]=n=>s.ssr=n),label:"SSR (Async Data, Изоморфный код)"},null,8,["modelValue"]),L(D,{modelValue:s.seoAdvanced,"onUpdate:modelValue":d[4]||(d[4]=n=>s.seoAdvanced=n),label:"Расширенный SEO"},null,8,["modelValue"]),L(D,{modelValue:s.testsUnit,"onUpdate:modelValue":d[5]||(d[5]=n=>s.testsUnit=n),label:"Unit-тесты"},null,8,["modelValue"]),L(D,{modelValue:s.testsE2E,"onUpdate:modelValue":d[6]||(d[6]=n=>s.testsE2E=n),label:"E2E-тесты"},null,8,["modelValue"]),L(D,{modelValue:s.responsive,"onUpdate:modelValue":d[7]||(d[7]=n=>s.responsive=n),label:"Адаптивный дизайн (мобильные, планшеты)"},null,8,["modelValue"]),L(D,{modelValue:s.accessibility,"onUpdate:modelValue":d[8]||(d[8]=n=>s.accessibility=n),label:"Доступность (a11y, ARIA)"},null,8,["modelValue"]),L(D,{modelValue:s.codeReview,"onUpdate:modelValue":d[9]||(d[9]=n=>s.codeReview=n),label:"Код-ревью и рефакторинг"},null,8,["modelValue"]),L(D,{modelValue:s.documentation,"onUpdate:modelValue":d[10]||(d[10]=n=>s.documentation=n),label:"Документация (JSDoc, README)"},null,8,["modelValue"]),L(D,{modelValue:s.deployment,"onUpdate:modelValue":d[11]||(d[11]=n=>s.deployment=n),label:"Настройка деплоя и CI/CD"},null,8,["modelValue"]),Bn,L(m,{modelValue:s.i18n,"onUpdate:modelValue":d[12]||(d[12]=n=>s.i18n=n),label:"Интернационализация (i18n)",class:"full-width",options:[{value:"none",text:"Нет"},{value:"simple",text:"Строки"},{value:"advanced",text:"Склонения / RTL"}]},null,8,["modelValue"]),L(m,{modelValue:s.devLevel,"onUpdate:modelValue":d[13]||(d[13]=n=>s.devLevel=n),class:"full-width",label:"Грейд разработчика",options:[{value:"middle",text:"Middle"},{value:"junior",text:"Junior"},{value:"senior",text:"Senior"}]},null,8,["modelValue"])]),e("section",Pn,[L(I,{title:"Оптимистичная",color:"green",value:F.value.optimistic},null,8,["value"]),L(I,{title:"Реалистичная",color:"blue",value:F.value.realistic},null,8,["value"]),L(I,{title:"Пессимистичная",color:"red",value:F.value.pessimistic},null,8,["value"])]),e("div",jn,[e("div",In,[e("button",{class:"btn btn-warning btn-full-width",onClick:d[14]||(d[14]=n=>A.value=!0)}," Настроить коэффициенты "),e("button",{class:"btn btn-info",disabled:!H.value,onClick:d[15]||(d[15]=n=>v.value=!0)}," Детали расчета ",8,An),e("button",{class:"btn btn-success",disabled:!H.value,onClick:d[16]||(d[16]=n=>O.value=!0)}," Экспорт в Jira ",8,Fn)]),e("div",Mn,[e("button",{class:"btn btn-primary",disabled:!H.value,onClick:re}," Экспорт в CSV ",8,On),e("button",{class:"btn btn-accent",disabled:!H.value,onClick:pe}," Экспорт в JSON ",8,Jn)]),e("div",{class:"buttons-group"},[e("button",{class:"btn btn-secondary",onClick:ue},"Сбросить")])])])]),L(B,{"is-visible":A.value,coefficients:t,"default-coefficients":U,onClose:d[17]||(d[17]=n=>A.value=!1),onSave:fe},null,8,["is-visible","coefficients"]),L(y,{"is-visible":v.value,"calculation-details":de.value,hours:F.value,"form-state":s,"base-coeffs":t,"level-factor":t.levelFactor,onClose:d[18]||(d[18]=n=>v.value=!1)},null,8,["is-visible","calculation-details","hours","form-state","base-coeffs","level-factor"]),L(h,{"is-visible":O.value,hours:F.value,"form-state":s,"component-types":Y(r),labels:Y(E),onClose:d[19]||(d[19]=n=>O.value=!1),onSuccess:me},null,8,["is-visible","hours","form-state","component-types","labels"])])}}}),qn=te(Gn,[["__scopeId","data-v-a379840f"]]);export{qn as default};
