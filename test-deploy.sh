#!/bin/bash

echo "๐งช ะขะตััะพะฒัะน ะดะตะฟะปะพะน ะดะพะบัะผะตะฝัะฐัะธะธ WebDozerz"

# ะกะพะฑะธัะฐะตะผ ะพัะฝะพะฒะฝะพะน ัะฐะนั
echo "๐ฆ ะกะฑะพัะบะฐ ะพัะฝะพะฒะฝะพะณะพ ัะฐะนัะฐ..."
npm run generate

# ะกะพะฑะธัะฐะตะผ ะดะพะบัะผะตะฝัะฐัะธั
echo "๐ ะกะฑะพัะบะฐ ะดะพะบัะผะตะฝัะฐัะธะธ..."
cd docs
NODE_ENV=production npm run build
cd ..

# ะกะพะทะดะฐะตะผ ัะธะฝะฐะปัะฝัั ััััะบัััั ะดะปั ะดะตะฟะปะพั
echo "๐ ะกะพะทะดะฐะฝะธะต ััััะบัััั ะดะตะฟะปะพั..."
rm -rf dist
mkdir -p dist

# ะะพะฟะธััะตะผ ะพัะฝะพะฒะฝะพะน ัะฐะนั
cp -r .output/public/* dist/

# ะะพะฟะธััะตะผ ะดะพะบัะผะตะฝัะฐัะธั ะฒ dist/docs
mkdir -p dist/docs
cp -r docs/build/* dist/docs/

echo "โ ะขะตััะพะฒะฐั ัะฑะพัะบะฐ ะทะฐะฒะตััะตะฝะฐ!"
echo "๐ ะกัััะบัััะฐ ะดะตะฟะปะพั:"
echo "๐ ะัะฝะพะฒะฝะพะน ัะฐะนั: dist/"
echo "๐ ะะพะบัะผะตะฝัะฐัะธั: dist/docs/"

echo ""
echo "๐ ะกะพะดะตัะถะธะผะพะต dist/:"
ls -la dist/

echo ""
echo "๐ ะกะพะดะตัะถะธะผะพะต dist/docs/:"
ls -la dist/docs/ 